# 引用类型

---

## 1. Object类型

### 1.1 创建方法

```javascript
// 1. new一个Object对象，使用Object构造函数
var person = new Object()
person.name = "Cindy"
person.age = 27

// 2. 对象字面量法 - 用JSON对象的方式直接创建
var person = {
  name: "Cindy",
  age: 27
}

// 对象字面量法补充
var person = {} // 和 new Object() 相同
```

### 1.2 对象访问方法

```javascript
person.name     // 输出：Cindy
person["name"]  // 输出：Cindy
// 方括号传入string的方法便于传入变量，动态获取对象中不同值
```



## 2. Array类型

> ECMAScript的Array特点：每个位置都可以存入不同类型的数据，例如第一个位置是string，第二个是Object

### 2.1 创建方法

```javascript
// 1. new一个Array对象，使用Array构造函数
var colors = new Array()
var colors = new Array(20)
var colors = new Array('red', 'blue', 'yellow')
var colors = Array("Gray") // 可以不用new

// 2. 数组字面量法
var colors = []
var colors = ['red', 'blue', 'yellow']
```

### 2.2 对象访问方法

```javascript
// Array对象包含length属性
alert(colors.length) // 3

// Array对象可用下角标引用
colors[0] = "gray"
alert(colors[0]) // 输出：“gray”
```

### 2.3 检测数组 Array.isArray()

```javascript
// 1. instanceof
alert(color instanceof Array) // true

// 2. Array.isArray()
alert(Array.isArray(colors)) // true

// 备注：instanceof的问题：假定仅存在一个全局执行环境，当网页存在多个框架时，则有多个全局执行环境，instanceof就不对
```

### 2.4 转换方法

```javascript
// 每个对象都包含toLocaleString()、toString()、valueOf()方法
// toString() - 返回数组中每个字符串拼接而成的，以逗号分隔的字符串
// valueOf()  - 返回数组本身

var colors = ['red', 'blue', 'yellow']

alert(colors.toString()) // red, blue, yellow
alert(colors.valueOf())  // red, blue, yellow
alert(colors)            // red, blue, yellow
```

### 2.5 栈方法 - push()和pop()

>用push和pop方法把数组模拟为栈
>
>1. Push() - 在末尾推入数据项，return入栈后的数组长度
>
>2. pop() - 获取当前栈的最后一项，并从栈中推出这一项
>
>注意：两个方法作用的位置都是栈的顶部，也就是数组的最后一个位置

```javascript
var colors = []

// 1. 推入两项
var count = colors.push('red', 'blue') 
alert(count) // 2

// 2. 再在末尾推入1项
count = colors.push('yellow')
alert(count) // 3
alert(colors) // red, blue, yellow

// 3. 获得最后一项，并从栈中推出该项
var item = colors.pop() 
alert(item) // yellow
alert(colors.length) // 2

```

### 2.6 队列方法 - push()和shift()、

>用push和shift方法把数组模拟为队列
>
>1. Push()- 在队列末尾推入数据项，return入队列后的数组长度
>
>2. shift() - 从数组前端取得项，并将数组长度减1（移除该数据）
>
>
>
>用unshift和pop方法将数组模拟为队列：
>
>1. Unshift() - 在数组前端添加任意个数据项，并返回新数组长度
>2. pop() - 获取当前栈的最后一项，并从栈中推出这一项

```javascript
var colors = []

// 1. 推入两项
var count = colors.push('red', 'blue') 
alert(count)          // 2

// 2. 再在末尾推入1项
count = colors.push('yellow')
alert(count)          // 3
alert(colors)         // red, blue, yellow

// 3. 获得队列最前面的一项，并从队列中推出该项
var item = colors.shift() 
alert(item)          // red
alert(colors.length) // 2

// 4. 在数组前端推入两项
count = colors.unshift('yellow', 'gray')
alert(count)         // 4
alert(colors)        // yellow, gray, red, blue

// 5. 在数组最后推出一项
item = colors.pop()
alert(item)          // green
alert(colors.length) // 3
```

### 2.7 重排序方法 - reverse()和sort()

```javascript
// 1. reverse - 反转数组顺序
var values = [1, 2, 3, 4, 5]
values.reverse() // 5, 4, 3, 2, 1

// 2. sort - 按照字符串升序排序（即使数组内为Number，也是按照字符串排序）
var values = [0, 1, 5, 10, 15]
values.sort() // 0， 1， 10， 15， 5

// 2.1 按照升序排序 - 先写一个compare方法，然后调用
function compare(value1, value2) {
  if (value1 < value2) return -1
  else if (value1 > value2) return 1
  else return 0
}
values.sort(compare) // 0, 1, 5, 10, 15

// 2.2 通过compare方法实现降序排序
function compare(value1, value2) {
  if (value1 < value2) return 1
  else if (value1 > value2) return -1
  else return 0
}
values.sort(compare) // 15, 10, 5, 1, 0

// 2.3 数值类型比较的简易升序compare方法
function compare(value1, value2) {
  return value1 - value2
}
```

